---
title: Configuration
description: "Complete configuration options for the Trails SDK"
---

## Configuration Options

Trails is easy to get started, however we have deep configuration options to address most use cases.

### Core Props

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `apiKey` | `string` | No | Your project access key provided by Trails |
| `mode` | `"pay" \| "fund" \| "earn" \| "swap" \| "receive"` | Yes | Widget operation mode |
| `toAddress` | `string` | No | Destination address for payments |
| `toAmount` | `string` | No | Exact amount for payments (used in pay mode) |
| `toChainId` | `number \| string` | No | Destination chain ID |
| `toToken` | `string` | No | Destination token symbol or contract address |
| `toCalldata` | `string` | No | Custom calldata for contract interactions |

### UI & Rendering Options

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `renderInline` | `boolean` | No | Render widget inline instead of as a modal (default: `false`) |
| `children` | `React.ReactNode` | No | Custom button content (when not renderInline) |
| `buttonText` | `string` | No | Custom text for the trigger button (auto-generated if not provided) |
| `theme` | `"light" \| "dark" \| "auto"` | No | Color theme; `auto` follows system preference (default: `"auto"`) |
| `customCss` | `string \| Record<string, string>` | No | Custom CSS styles to apply to the component |

### Wallet & Connection Options

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `walletConnectProjectId` | `string` | No | WalletConnect project ID for WalletConnect integration |

### Transaction Options

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `paymasterUrls` | `Array<{ chainId: number; url: string }>` | No | Configure per-chain paymaster endpoints for gasless transactions |
| `quoteProvider` | `"auto" \| "lifi" \| "relay" \| "cctp"` | No | Preferred quote provider (default: `"auto"`). `"auto"` automatically selects best provider, `"lifi"` uses LiFi aggregator for multi-source routing, `"relay"` uses Relay for fast direct transfers, `"cctp"` uses Circle's CCTP for native USDC transfers |
| `slippageTolerance` | `number \| string` | No | Slippage tolerance for swaps (e.g., `0.005` for 0.5%) |

### Event Handlers

| Prop | Type | Required | Description |
|------|------|----------|-------------|
| `onOriginConfirmation` | `(data: { txHash: string; chainId: number; sessionId: string }) => void` | No | Called when origin transaction is confirmed |
| `onDestinationConfirmation` | `(data: { txHash: string; chainId: number; sessionId: string }) => void` | No | Called when destination transaction is confirmed |
| `onCheckoutStart` | `(data: { sessionId: string }) => void` | No | Called when checkout process starts |
| `onCheckoutQuote` | `(data: { sessionId: string; quote: any }) => void` | No | Called when quote is received |
| `onCheckoutComplete` | `(data: { sessionId: string }) => void` | No | Called when checkout completes successfully |
| `onCheckoutError` | `(data: { sessionId: string; error: string }) => void` | No | Called when checkout encounters an error (including user rejection) |
| `onCheckoutStatusUpdate` | `(data: { sessionId: string; transactionStates: TransactionState[] }) => void` | No | Called when transaction status updates |

## Smart Contract Interactions

Execute custom contract calls with payments:

```tsx
import { encodeFunctionData } from 'viem'

const calldata = encodeFunctionData({
  abi: contractABI,
  functionName: 'mintNFT',
  args: [recipient, tokenId]
})

<TrailsWidget
  apiKey="YOUR_API_KEY"
  mode="pay"
  toAddress="0x..." // Contract address
  toAmount="0.1"
  toChainId={1}
  toToken="ETH"
  toCalldata={calldata}
  onCheckoutComplete={(result) => {
    console.log('NFT minted:', result)
  }}
/>
```

## Event Handling Examples

### Complete Event Handling
```tsx
import { getIsUserRejectionError } from '0xtrails'

<TrailsWidget
  apiKey="YOUR_API_KEY"
  mode="pay"
  toAddress="0x..."
  toAmount="1"
  toChainId={8453}
  toToken="USDC"
  onOriginConfirmation={({ txHash, chainId, sessionId }) => {
    console.log('Origin tx confirmed:', { txHash, chainId, sessionId })
  }}
  onDestinationConfirmation={({ txHash, chainId, sessionId }) => {
    console.log('Destination tx confirmed:', { txHash, chainId, sessionId })
  }}
  onCheckoutStatusUpdate={({ sessionId, transactionStates }) => {
    transactionStates.forEach((state, index) => {
      console.log(`Step ${index + 1}: ${state.label} - ${state.state}`)
      if (state.state === 'confirmed') {
        console.log('Transaction confirmed:', state.transactionHash)
      }
    })
  }}
  onCheckoutComplete={({ sessionId }) => {
    console.log('Transaction completed successfully:', sessionId)
  }}
  onCheckoutError={({ sessionId, error }) => {
    console.error('Transaction failed:', sessionId, error)
    
    // Check if user rejected the transaction
    if (getIsUserRejectionError(error)) {
      console.log('User rejected the transaction')
      // Handle user rejection (e.g., show "Transaction cancelled" message)
    } else {
      // Handle other errors (show error notification, retry logic, etc.)
    }
  }}
/>
```

### Handling User Rejection

User rejection occurs when a user declines to sign a transaction in their wallet. This is handled through the `onCheckoutError` callback:

```tsx
import { getIsUserRejectionError, TrailsWidget } from '0xtrails'

<TrailsWidget
  apiKey="YOUR_API_KEY"
  mode="pay"
  toAddress="0x..."
  onCheckoutError={({ sessionId, error }) => {
    if (getIsUserRejectionError(error)) {
      // User cancelled the transaction
      showNotification('Transaction cancelled by user')
    } else {
      // Other error occurred
      showNotification('Transaction failed: ' + error)
    }
  }}
/>
```



